version: 2

sources:
  - name: snowflake_dbt
    database: TRACKING_PORTAFOLIO
    schema: STG_SOURCE
    description: stage all tables
    tables:
      - name: ABC_BANK_POSITION
        columns:
          - name: ACCOUNTID
            description: The code for the account at ABC Bank.
            tests:
              - not_null
        
          - name: SYMBOL
            description: The symbol of the security at ABC Bank.
            tests:
              - not_null

          - name: DESCRIPTION
            description: The name of the security at ABC Bank.
            tests:
              - not_null

          - name: REPORT_DATE
            description: >
              The date of the report was extracted by ABC Bank.
              We consider this position to be effective
              from this date forward, until a change is seen.
            tests:
              - not_null

          - name: POSITION_VALUE
            description: >
              The value of the securities in the portfolio
              at ABC Bank on the Report Date.
            tests:
              - not_null

      - name : CATALOG_CURRENCY
        columns :
          - name: CURRENCY
            description: The code for the currency.
            tests:
              - unique 
              - not_null
        
          - name: CURRENCY_DESCRIPTION
            description: Description the currency.
            tests:
              - not_null

          - name: EURO
            description: conversion rate to euro.
            tests:
              - not_null

          - name: EURO_TO_LC
            description: equivalent LC to EURO.
            tests:
              - not_null

          - name: USD
            description: conversion rate to USD.
            tests:
              - not_null


